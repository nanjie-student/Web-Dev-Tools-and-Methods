{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://nanjie/./src/state.js","webpack://nanjie/webpack/bootstrap","webpack://nanjie/webpack/runtime/define property getters","webpack://nanjie/webpack/runtime/hasOwnProperty shorthand","webpack://nanjie/webpack/runtime/make namespace object","webpack://nanjie/./src/cart.js"],"sourcesContent":["const PAGES = {\n    PRODUCTS: 'products',\n    CART: 'cart',\n};\nconst state ={\n    products: [\n        {name: 'Fluffball',img: \"http://placekitten.com/150/150?image=1\",  price: '$0.99'},\n        {name: 'General Mayhem',img: \"http://placekitten.com/150/150?image=2\", price: '$3.14'},\n        {name: 'Meow is the time', img: \"http://placekitten.com/150/150?image=3\",price: '$2.73'},\n    ],\n    cart:[],\n    page: PAGES.PRODUCTS,  \n};\nexport const pages = PAGES;\nexport default state;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","\"use strict\";\nimport state from \"./state\";\nimport { pages } from \"./state\";\n\n(function () {\n  const appEl = document.querySelector(\"#app\");\n\n  //check render status\n  function render() {\n    if (state.page === pages.PRODUCTS) {\n      renderProducts();\n    }\n    if (state.page === pages.CART) {\n      renderCart();\n    }\n  }\n\n  //render cart page\n  function renderCart() {\n    let cartHtml;\n    let total = 0;\n    if (state.cart.length === 0) {\n      cartHtml = \"<p>Nothing in the cart</p>\";\n    } else {\n      cartHtml = state.cart.map((product, index) => {\n          total += product.quantity * parseFloat(product.price.slice(1));\n\n        return `\n        <div class=\"cart_product\">\n          <img src=\"${product.img}\" alt=\"${product.name}\">\n          <div class=\"info\">\n            <h2>${product.name}</h2>\n            <p>${product.price}</p>\n            <input type=\"number\" value=\"${product.quantity}\" data-index=\"${index}\">\n          </div>\n        </div>\n      `;\n        })\n        .join(\"\");\n    }\n\n    appEl.innerHTML = `  \n     <div class=\"btn\">\n        <button type=\"button\" class=\"page\" data-target=\"products\">\n          Hide Cart\n        </button>\n        <button type=\"button\" class=\"checkout\">\n          Checkout\n        </button>\n      </div>\n      <div class=\"products\">\n        ${cartHtml}\n        <div class=\"total_cost\">\n          <p>Total: $${total.toFixed(2)}</p>\n        </div>\n      </div>\n    `;\n\n    const checkoutButton = document.querySelector(\".checkout\");\n      checkoutButton.addEventListener(\"click\", () => {\n      state.cart = [];\n      renderCart();\n    });\n\n    const quantityInputs = document.querySelectorAll('input[type=\"number\"]');\n    quantityInputs.forEach((input) => {\n      input.addEventListener(\"change\", () => {\n        const index = input.dataset.index;\n        const product = state.cart[index];\n        const quantity = parseInt(input.value);\n        if (quantity > 0) {\n          product.quantity = quantity;\n        } else {\n          state.cart.splice(index, 1);\n        }\n        renderCart();\n      });\n    });\n  }\n\n  function renderProducts() {\n    const listHtml = state.products\n      .map((product, index) => {\n        return `\n        <div class=\"product\">\n          <img src=\"${product.img}\" alt=\"${product.name}\">\n          <div class=\"product_info\">\n            <h2>${product.name}</h2>\n            <p>${product.price}</p>\n            <button class=\"add_to_cartbtn\" data-index=\"${index}\">Add to Cart</button>\n          </div>\n        </div>\n      `;\n      })\n      .join(\"\");\n\n    appEl.innerHTML = ` \n    <div class=\"products\">\n        ${listHtml}\n    </div> \n     <div class=\"btn\">\n        <button type=\"button\" class=\"page\" data-target=\"cart\">\n        View Cart\n        </button>\n      </div>\n    `;\n    const addToCartButton = document.querySelectorAll(\".add_to_cartbtn\");\n    addToCartButton.forEach((button) => {\n      button.addEventListener(\"click\", () => {\n        const index = button.dataset.index;\n        const product = state.products[index];\n        const addedItem = state.cart.find(\n          (item) => item.name === product.name\n        );\n        if (addedItem) {\n          addedItem.quantity += 1;\n        } else {\n          state.cart.push({\n            name: product.name,\n            price: product.price,\n            img: product.img,\n            quantity: 1,\n          });\n        }\n      });\n    });\n\n    const viewCartButton = document.querySelector('[data-target=\"cart\"]');\n    viewCartButton.addEventListener(\"click\", () => {\n      state.page = pages.CART;\n      render();\n    });\n  }\n  render();\n\n  appEl.addEventListener(\"click\", (e) => {\n    if (e.target.classList.contains(\"page\")) {\n      state.page = e.target.dataset.target;\n      render();\n    }\n  });\n})();"],"names":["PAGES","PRODUCTS","CART","state","products","name","img","price","cart","page","pages","appEl","document","querySelector","render","renderProducts","renderCart","cartHtml","total","length","map","product","index","quantity","parseFloat","slice","concat","join","innerHTML","toFixed","checkoutButton","addEventListener","quantityInputs","querySelectorAll","forEach","input","dataset","parseInt","value","splice","listHtml","addToCartButton","button","addedItem","find","item","push","viewCartButton","e","target","classList","contains"],"sourceRoot":""}